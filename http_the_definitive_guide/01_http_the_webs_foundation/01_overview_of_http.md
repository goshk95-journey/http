# 01.HTTP 개관

## 1.1 HTTP: 인터넷의 멀티미디어 배달부

HTTP는 전 세계의 웹 서버로부터 대량의 정보를 빠르고, 간편하고, 정확하게 사람들의 PC에 설치된 브라우저로 옮겨준다.

**HTTP는 신뢰성 있는 데이터 전송 프로토콜을 사용**하기 때문에, 데이터가 지구 반대편에서 오더라도 전송 중 손상되거나 꼬이지 않음을 보장한다.

## 1.2 웹 클라이언트와 서버

클라이언트는 서버에게 HTTP 요청을 보내고, 서버는 요청된 데이터를 HTTP 응답으로 돌려준다. **HTTP 클라이언트와 서버는 월드 와이드 웹의 기본 요소다.**

## 1.3 리소스

웹 리소스는 웹 컨텐츠의 원천이며 어떤 종류의 컨텐츠도 리소스가 될 수 있다.

웹 리소스는 크게 정적 리소스와 동적 리소스로 구분된다.

정적 리소스는 이미지 파일, 텍스트 파일, 비디오 파일 등 모든 종류의 파일을 포함한다.

동적 리소스는 클라이언트의 요청에 따라 컨텐츠를 생성한다.

### 1.3.1 미디어 타입

인터넷은 수천 가지 데이터 타입을 다루기 때문에, HTTP는 웹에서 전송되는 객체 각각에 **MIME(Multipurpose Internet Mail Extensions)** 타입이라는 데이터 포맷 라벨을 붙인다.

MIME 타입은 {주타입}/{부타입} 으로 이루어진 문자열 라벨이다.

MIME 타입 예시

- image/png
- image/gif
- video/mp4
- text/html
- text/plain

### 1.3.2 URI

URI(Uniform Resource Identifier)는 인터넷의 우편물 주소 같은 것으로, 정보 리소스를 고유하게 식별하고 그 위치를 지정할 수 있다.

URI에는 두 가지가 있는데, **URL**과 **URN**이라는 것이다.

### 1.3.3 URL

URL(Uniform Resource Locator)은 특정 서버의 한 리소스에 대한 **구체적인 위치를 서술**한다.

대부분의 URL은 세 부분으로 이루어진 표준 포맷을 따른다.

`ex) https://www.google.com/images/logo.png`

- URL의 첫 번째 부분은 스킴이라고 부르는데, 리소스에 접근하기 위해 사용되는 프로토콜을 서술한다.
- 두 번째 부분은 서버의 인터넷 주소를 제공한다.
- 마지막은 웹 서버의 리소스를 가리킨다.

***오늘날 대부분의 URI는 URL이다.***

### 1.3.4 URN

URN(Uniform Resource Name)은 컨텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할을 한다.

## 1.4 트랜잭션

HTTP 트랜잭션은 요청 명령과 응답 결과로 구성되어 있다.

### 1.4.1 메서드

HTTP는 HTTP 메서드라고 불리는 여러 가지 종류의 요청 명령을 지원한다. 모든 HTTP 요청 메시지는 한 개의 메서드를 갖는다. 메서드는 서버에게 어떤 동작이 취해져야 하는지 말해준다.

대표적인 HTTP 메서드로는 GET, POST, PUT, DELETE 같은 것들이 있다.

### 1.4.2 상태 코드

모든 HTTP 응답 메시지는 상태 코드와 함께 반환된다. 상태 코드는 클라이언트에게 요청이 성공했는지 아니면 추가 조치가 필요한지 알려주는 세 자리 숫자다.

## 1.5 메시지

HTTP 메시지는 사람이 읽고 쓰기 쉬운 단순한 줄 단위의 문자열이다.

웹 클라이언트에서 웹 서버로 보낸 HTTP 메시지를 요청 메시지라고 부른다. 반대로 서버에서 클라이언트로 가는 메시지를 응답 메시지라고 부른다.

HTTP 메시지는 세 부분으로 이루어진다.

요청 메시지

```text
GET /hello HTTP/1.0
--------------------------
Accept: application/json
Accept-Language: en
```

응답 메시지

```text
HTTP/1.0 200 OK
--------------------------
Content-Type: application/json
Content-Length: 5
--------------------------
hello
```

**시작줄**

메시지의 첫 줄은 시작줄로, 요청이라면 무엇을 해야 하는지 응답이라면 무슨 일이 일어났는지를 나타낸다.

**헤더**

시작줄 다음에는 0개 이상의 헤더 필드가 이어진다. 각 헤더 필드는 쌍점(:)으로 구분되어 있는 하나의 이름과 하나의 값으로 구성된다.

**본문**

요청의 본문은 웹 서버로 데이터를 실어 보내며, 응답의 본문은 클라이언트로 데이터를 반환한다.

## 1.6 TCP 커넥션

### 1.6.1 TCP/IP

**HTTP는 애플리케이션 계층 프로토콜이다.** HTTP는 네트워크 통신을 대중적이고 신뢰성 있는 인터넷 전송 프로토콜인 **TCP/IP**에게 맡긴다.

TCP는 다음을 제공한다.

- 오류 없는 데이터 전송
- 순서에 맞는 전달
- 조각나지 않는 데이터 스트림

### 1.6.2 접속, IP 주소 그리고 포트번호

HTTP 클라이언트가 서버에 메시지를 전송하기 전에, 인터넷 IP(Internet Protocol) 주소와 포트번호를 사용해 클라이언트와 서버 사이에 TCP/IP 커넥션을 맺어야 한다.

TCP에서는 서버 컴퓨터에 대한 IP 주소와 그 서버에서 실행중인 프로그램이 사용중인 포트번호가 필요하다.

## 1.7 프로토콜 버전

오늘날 쓰이고 있는 HTTP 프로토콜은 버전이 여러 가지다.

대표적으로 http/1.1, http/2 버전이 많이 사용되고 있다.

## 1.8 웹의 구성요소

### 프록시

클라이언트와 서버 사이에 위치한 HTTP 중개자

### 캐시

많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고

### 게이트웨이

다른 애플리케이션과 연결된 특별한 웹 서버

### 터널

단순히 HTTP 통신을 전달하기만 하는 특별한 프록시